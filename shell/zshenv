#!/bin/zsh

if [[ $CFG_EXEC = 1 ]]; then
  # Do nothing
else
  export CFG_EXEC=1

  # Takes as arguments:
  # 1. path to source
  # 2. command that should be available after source
  source_if_necessary() {
    if [ -e $2 ] && !command -v $1 >/dev/null 2>&1
    then
      source $1
    fi
  }

  # Haskell
  source_if_necessary $HOME/.ghcup/env cabal

  # Rust
  source_if_necessary $HOME/.cargo/env cargo
fi
