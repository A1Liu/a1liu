#!/bin/sh
# TODO Make this work better with cloning and stuff; i.e. make it
# so that this works without needing to first install git and clone
project="$(dirname $0)"
export project="$(dirname project)"

# Updating, upgrading
apt dist-upgrade -y
apt update -y
apt upgrade -y

# Pretty useful software
apt install -y \
software-properties-common \
git snapd \
exfat-utils exfat-fuse ntfs-3g \
default-jre default-jdk \
build-essential \
conky-all gcalcli \
python3.6 python2.7

# Install jdk
# https://stackoverflow.com/questions/14788345/how-to-install-the-jdk-on-ubuntu-linux
# Install Eclipse
# https://askubuntu.com/questions/26632/how-to-install-eclipse
# Change permissions
# https://www.eclipse.org/forums/index.php/t/206634/
# Eclim
# https://github.com/ervandew/eclim/releases/download/2.8.0/eclim_2.8.0.bin
# chmod +x ~/Downloads/eclim_2.8.0.bin
# ~/Downloads/eclim_2.8.0.bin

# Git
ln -s "${project}/shell/gitconfig" ~/.gitconfig
ln -s "${project}/shell/gitignore_global" ~/.gitignore_global

# NeoVim
# https://github.com/neovim/neovim/wiki/Installing-Neovim#ubuntu
add-apt-repository ppa:neovim-ppa/stable
apt install -y neovim
ln -s "${project}/neovim" "~/.config/nvim"
touch ~/.vimrc
echo "runtime ${project}/neovim/init.vim" > ~/.vimrc

# Eclim
ln -s /opt/eclipse/ "${project}/neovim/eclimd"

# Z Shell
apt install zsh
chsh -s /bin/zsh
sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
touch ~/.zshrc
echo "#\!/bin/zsh\n\nsource \"$project/shell/zshrc\"" > ~/.zshrc
touch ~/.zshenv
echo "#\!/bin/zsh\n\nsource \"$project/shell/zshenv\"" > ~/.zshenv

# Use VC Profile
mv ~/.profile ~/.profile_old
touch ~/.profile
echo "source \"${project}/shell/profile\"" > ~/.profile

# TODO
# -  Add GNOME stuff and change GNOME software names
# -  Add keyboard shortcut stuff/keybinding stuff

zsh

